"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[154],{6154:function(e,t,r){r.r(t),r.d(t,{Canvas:function(){return O},ReactThreeFiber:function(){return i.t},_roots:function(){return i.z},act:function(){return i.x},addAfterEffect:function(){return i.p},addEffect:function(){return i.o},addTail:function(){return i.q},advance:function(){return i.n},applyProps:function(){return i.k},buildGraph:function(){return i.y},context:function(){return i.g},createEvents:function(){return i.f},createPointerEvents:function(){return i.c},createPortal:function(){return i.h},createRoot:function(){return i.b},dispose:function(){return i.l},events:function(){return i.c},extend:function(){return i.e},flushGlobalEffects:function(){return i.s},flushSync:function(){return i.v},getRootState:function(){return i.w},invalidate:function(){return i.m},reconciler:function(){return i.j},render:function(){return i.r},unmountComponentAtNode:function(){return i.d},useFrame:function(){return i.F},useGraph:function(){return i.G},useInstanceHandle:function(){return i.A},useLoader:function(){return i.H},useStore:function(){return i.C},useThree:function(){return i.D}});var n,o,i=r(2860),u=r(2265),c=r(6375);function l(e,t){let r;return(...n)=>{window.clearTimeout(r),r=window.setTimeout(()=>e(...n),t)}}let s=["x","y","top","bottom","left","right","width","height"],a=(e,t)=>s.every(r=>e[r]===t[r]);var f=Object.defineProperty,d=Object.defineProperties,h=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,m=(e,t,r)=>t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,b=(e,t)=>{for(var r in t||(t={}))p.call(t,r)&&m(e,r,t[r]);if(v)for(var r of v(t))w.call(t,r)&&m(e,r,t[r]);return e},y=(e,t)=>d(e,h(t));function E(e){try{return Object.defineProperties(e,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(t){return e}}"undefined"!=typeof window&&((null==(n=window.document)?void 0:n.createElement)||(null==(o=window.navigator)?void 0:o.product)==="ReactNative")?u.useLayoutEffect:u.useEffect;let g=console.error;console.error=function(){let e=[...arguments].join("");if((null==e?void 0:e.startsWith("Warning:"))&&e.includes("useContext")){console.error=g;return}return g.apply(this,arguments)};let x=E(u.createContext(null));class z extends u.Component{render(){return u.createElement(x.Provider,{value:this._reactInternals},this.props.children)}}var C=r(7437);r(5505),r(1177),r(4362);let j=u.forwardRef(function({children:e,fallback:t,resize:r,style:n,gl:o,events:s=i.c,eventSource:f,eventPrefix:d,shadows:h,linear:v,flat:p,legacy:w,orthographic:m,frameloop:g,dpr:j,performance:O,raycaster:R,camera:L,scene:S,onPointerMissed:P,onCreated:H,..._},k){u.useMemo(()=>(0,i.e)(c),[]);let M=function(){let e=function(){let e=function(){let e=u.useContext(x);if(null===e)throw Error("its-fine: useFiber must be called within a <FiberProvider />!");let t=u.useId();return u.useMemo(()=>{for(let r of[e,null==e?void 0:e.alternate]){if(!r)continue;let e=function e(t,r,n){if(!t)return;if(!0===n(t))return t;let o=r?t.return:t.child;for(;o;){let t=e(o,r,n);if(t)return t;o=r?null:o.sibling}}(r,!1,e=>{let r=e.memoizedState;for(;r;){if(r.memoizedState===t)return!0;r=r.next}});if(e)return e}},[e,t])}(),[t]=u.useState(()=>new Map);t.clear();let r=e;for(;r;){if(r.type&&"object"==typeof r.type){let e=void 0===r.type._context&&r.type.Provider===r.type?r.type:r.type._context;e&&e!==x&&!t.has(e)&&t.set(e,u.useContext(E(e)))}r=r.return}return t}();return u.useMemo(()=>Array.from(e.keys()).reduce((t,r)=>n=>u.createElement(t,null,u.createElement(r.Provider,y(b({},n),{value:e.get(r)}))),e=>u.createElement(z,b({},e))),[e])}(),[T,F]=function({debounce:e,scroll:t,polyfill:r,offsetSize:n}={debounce:0,scroll:!1,offsetSize:!1}){var o;let i=r||("undefined"==typeof window?class{}:window.ResizeObserver);if(!i)throw Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");let[c,s]=(0,u.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),f=(0,u.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:c,orientationHandler:null}),d=e?"number"==typeof e?e:e.scroll:null,h=e?"number"==typeof e?e:e.resize:null,v=(0,u.useRef)(!1);(0,u.useEffect)(()=>(v.current=!0,()=>void(v.current=!1)));let[p,w,m]=(0,u.useMemo)(()=>{let e=()=>{if(!f.current.element)return;let{left:e,top:t,width:r,height:o,bottom:i,right:u,x:c,y:l}=f.current.element.getBoundingClientRect(),d={left:e,top:t,width:r,height:o,bottom:i,right:u,x:c,y:l};f.current.element instanceof HTMLElement&&n&&(d.height=f.current.element.offsetHeight,d.width=f.current.element.offsetWidth),Object.freeze(d),v.current&&!a(f.current.lastBounds,d)&&s(f.current.lastBounds=d)};return[e,h?l(e,h):e,d?l(e,d):e]},[s,n,d,h]);function b(){f.current.scrollContainers&&(f.current.scrollContainers.forEach(e=>e.removeEventListener("scroll",m,!0)),f.current.scrollContainers=null),f.current.resizeObserver&&(f.current.resizeObserver.disconnect(),f.current.resizeObserver=null),f.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",f.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",f.current.orientationHandler))}function y(){f.current.element&&(f.current.resizeObserver=new i(m),f.current.resizeObserver.observe(f.current.element),t&&f.current.scrollContainers&&f.current.scrollContainers.forEach(e=>e.addEventListener("scroll",m,{capture:!0,passive:!0})),f.current.orientationHandler=()=>{m()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",f.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",f.current.orientationHandler))}return o=!!t,(0,u.useEffect)(()=>{if(o)return window.addEventListener("scroll",m,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",m,!0)},[m,o]),(0,u.useEffect)(()=>(window.addEventListener("resize",w),()=>void window.removeEventListener("resize",w)),[w]),(0,u.useEffect)(()=>{b(),y()},[t,m,w]),(0,u.useEffect)(()=>b,[]),[e=>{e&&e!==f.current.element&&(b(),f.current.element=e,f.current.scrollContainers=function e(t){let r=[];if(!t||t===document.body)return r;let{overflow:n,overflowX:o,overflowY:i}=window.getComputedStyle(t);return[n,o,i].some(e=>"auto"===e||"scroll"===e)&&r.push(t),[...r,...e(t.parentElement)]}(e),y())},c,p]}({scroll:!0,debounce:{scroll:50,resize:0},...r}),B=u.useRef(null),I=u.useRef(null);u.useImperativeHandle(k,()=>B.current);let A=(0,i.u)(P),[G,N]=u.useState(!1),[W,D]=u.useState(!1);if(G)throw G;if(W)throw W;let X=u.useRef(null);(0,i.a)(()=>{let t=B.current;F.width>0&&F.height>0&&t&&(X.current||(X.current=(0,i.b)(t)),X.current.configure({gl:o,events:s,shadows:h,linear:v,flat:p,legacy:w,orthographic:m,frameloop:g,dpr:j,performance:O,raycaster:R,camera:L,scene:S,size:F,onPointerMissed:(...e)=>null==A.current?void 0:A.current(...e),onCreated:e=>{null==e.events.connect||e.events.connect(f?(0,i.i)(f)?f.current:f:I.current),d&&e.setEvents({compute:(e,t)=>{let r=e[d+"X"],n=e[d+"Y"];t.pointer.set(r/t.size.width*2-1,-(n/t.size.height*2)+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==H||H(e)}}),X.current.render((0,C.jsx)(M,{children:(0,C.jsx)(i.E,{set:D,children:(0,C.jsx)(u.Suspense,{fallback:(0,C.jsx)(i.B,{set:N}),children:null!=e?e:null})})})))}),u.useEffect(()=>{let e=B.current;if(e)return()=>(0,i.d)(e)},[]);let Y=f?"none":"auto";return(0,C.jsx)("div",{ref:I,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Y,...n},..._,children:(0,C.jsx)("div",{ref:T,style:{width:"100%",height:"100%"},children:(0,C.jsx)("canvas",{ref:B,style:{display:"block"},children:t})})})}),O=u.forwardRef(function(e,t){return(0,C.jsx)(z,{children:(0,C.jsx)(j,{...e,ref:t})})})}}]);